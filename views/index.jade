extends layout

block content
    #cover.container-fluid=pretitle

    .container
        if contents
            .row.spacer

            .row
                .jumbotron.col-xs-12.text-center!= md(contents)

        .row.text-center
            h2.col-xs-12 How Helpific works?
            h3#bullet-1.col-xs-10.col-sm-4.col-md-2.col-xs-offset-1.col-sm-offset-0.col-md-offset-2.text-center
                img(src='/images/bullet-1.png', style='margin-bottom:20px', alt='Step 1')
                br
                | Sign in via Facebook or Google
            h3#bullet-2.col-xs-10.col-sm-4.col-md-2.col-xs-offset-1.col-sm-offset-0.col-md-offset-1.text-center
                img(src='/images/bullet-2.png', style='margin-bottom:20px', alt='Step 2')
                br
                | Let us know what you can do or need
            h3#bullet-3.col-xs-10.col-sm-4.col-md-2.col-xs-offset-1.col-sm-offset-0.col-md-offset-1.text-center
                img(src='/images/bullet-3.png', style='margin-bottom:20px', alt='Step 3')
                br
                | Make your needs and deeds work

        .row.spacer

        .row.text-center
            h2.col-xs-12 Chose your way

    .container-fluid
        .row.text-center
            .col-xs-6(style='background-color:#55938e')
                .spacer.col-xs-12
                a(href='/profiles?q=helper')
                    h3.col-xs-12(style='color:#ffffff') Meet the volunteers
                    img.col-xs-8.col-md-4.col-xs-offset-2.col-md-offset-4(src='/images/door-left.png', alt='Left door')
            .col-xs-6(style='background-color:#fab235')
                .spacer.col-xs-12
                a(href='/profiles?q=helper')
                    h3.col-xs-12(style='color:#ffffff') Help those in need
                    img.col-xs-8.col-md-4.col-xs-offset-2.col-md-offset-4(src='/images/door-right.png', alt='Right door')

    script.
        $(window).scroll(function(event) {
            $('#cover').css('background-position', 'center ' + $(window).scrollTop() * 0.3 + 'px')

            if($(window).scrollTop() > 10) {
                var alpha = 1 - $(window).scrollTop() / 200
                $('#cover').css('color', 'rgba(255, 255, 255, ' + alpha + ')')
                $('#cover').css('text-shadow', '0px 0px 10px rgba(64, 64, 64, ' + alpha + ')')
            }

            $('#bullet-1').css('opacity', ($(window).scrollTop() + $(window).height() - $('#bullet-1').position().top - $('#bullet-1').height() / 2  ) / 100)
            $('#bullet-2').css('opacity', ($(window).scrollTop() + $(window).height() - $('#bullet-2').position().top - $('#bullet-2').height() / 1.5) / 100)
            $('#bullet-3').css('opacity', ($(window).scrollTop() + $(window).height() - $('#bullet-3').position().top - $('#bullet-3').height())       / 100)
        })
